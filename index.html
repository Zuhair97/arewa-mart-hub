<!DOCTYPE html>
<html lang="ha">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arewa-mart Hub | @Bashful97</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;700;800&display=swap');
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #f9fafb; }
        .arewa-theme { background: linear-gradient(135deg, #064e3b 0%, #10b981 100%); }
        .glass { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="pb-32">

    <header class="sticky top-0 z-50 glass border-b border-emerald-100 p-4 flex justify-between items-center">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 arewa-theme rounded-xl flex items-center justify-center text-white font-black shadow-lg">AH</div>
            <h1 class="text-lg font-black text-emerald-900 leading-none">AREWA-MART</h1>
        </div>
        <div class="flex gap-2">
            <button onclick="showCart()" class="relative p-2 bg-emerald-50 rounded-lg">
                üõí <span id="cart-count" class="absolute -top-1 -right-1 bg-red-500 text-white text-[8px] px-1.5 rounded-full">0</span>
            </button>
            <button onclick="toggleLanguage()" class="bg-emerald-800 text-white px-3 py-1.5 rounded-lg text-[10px] font-bold">EN/HA</button>
        </div>
    </header>

    <div id="main-view">
        <div class="flex gap-3 overflow-x-auto px-4 py-4 no-scrollbar" id="cat-list">
            </div>

        <main class="px-4 grid grid-cols-2 gap-4" id="items-grid"></main>
    </div>

    <div id="admin-view" class="hidden p-4">
        <h2 class="text-xl font-black text-emerald-900 mb-4">Admin: Sarrafa Kaya</h2>
        <div class="bg-white p-4 rounded-2xl shadow-sm mb-6 border border-emerald-100">
            <input id="p-name" placeholder="Sunan Kaya" class="w-full mb-2 p-3 bg-gray-50 rounded-xl text-sm border-none outline-emerald-500">
            <input id="p-price" type="number" placeholder="Farashi (Pi)" class="w-full mb-2 p-3 bg-gray-50 rounded-xl text-sm border-none outline-emerald-500">
            <input id="p-img" placeholder="Hoto URL (misali: https://...)" class="w-full mb-4 p-3 bg-gray-50 rounded-xl text-sm border-none outline-emerald-500">
            <button onclick="addItem()" class="w-full arewa-theme text-white py-3 rounded-xl font-bold">DAURA KAYA</button>
        </div>
        <div id="admin-items-list" class="space-y-2"></div>
    </div>

    <div id="cart-modal" class="fixed inset-0 z-[100] hidden bg-black/50 p-6 flex items-center justify-center">
        <div class="bg-white w-full rounded-3xl p-6 max-h-[80vh] overflow-y-auto">
            <h3 class="text-lg font-black mb-4">Kwandon Saye (Cart)</h3>
            <div id="cart-items" class="space-y-3 mb-6"></div>
            <div class="border-t pt-4 mb-6">
                <div class="flex justify-between font-black text-emerald-900 text-lg">
                    <span>Jimilla:</span> <span id="cart-total">0 Pi</span>
                </div>
            </div>
            <button onclick="checkout()" class="w-full arewa-theme text-white py-4 rounded-2xl font-black shadow-lg mb-2 uppercase">Tura Oda (Checkout)</button>
            <button onclick="hideCart()" class="w-full text-gray-400 font-bold text-sm">Rufe</button>
        </div>
    </div>

    <footer class="p-6 text-center text-[10px] text-gray-400 mb-20">
        <button onclick="alert('Privacy Policy: Mu a Arewa-mart ba ma siyar da bayanan ku ga wani bangare. Dukkan bayanan sayayya suna tsakanin ku da admin.')">Privacy Policy</button>
    </footer>

    <nav class="fixed bottom-0 w-full glass border-t p-4 flex justify-around items-center z-50">
        <button onclick="showMain()" class="flex flex-col items-center opacity-100"><span class="text-xl">üè†</span><span class="text-[9px] font-black uppercase">Home</span></button>
        <button onclick="enterAdmin()" class="flex flex-col items-center opacity-40"><span class="text-xl">üõ†Ô∏è</span><span class="text-[9px] font-black uppercase tracking-tighter">Admin Portal</span></button>
    </nav>

    <script>
        let cart = [];
        let products = JSON.parse(localStorage.getItem('products')) || [
            { id: 1, name: "Smart Watch", price: 15, img: "https://via.placeholder.com/150", cat: "tech" },
            { id: 2, name: "Babban Riga", price: 40, img: "https://via.placeholder.com/150", cat: "fashion" }
        ];

        const categories = [
            { id: 'tech', ha: "Lantarki", icon: "üì±" },
            { id: 'fashion', ha: "Tufafi", icon: "üëï" },
            { id: 'agro', ha: "Noma", icon: "üåæ" }
        ];

        function renderApp() {
            // Render Categories
            const catList = document.getElementById('cat-list');
            catList.innerHTML = '';
            categories.forEach(c => {
                catList.innerHTML += `
                    <div class="flex flex-col items-center gap-1 min-w-[70px]">
                        <div class="w-14 h-14 bg-white rounded-2xl flex items-center justify-center shadow-sm border border-emerald-50 text-2xl">${c.icon}</div>
                        <span class="text-[10px] font-bold text-emerald-900">${c.ha}</span>
                    </div>
                `;
            });

            // Render Products
            const grid = document.getElementById('items-grid');
            grid.innerHTML = '';
            products.forEach(p => {
                grid.innerHTML += `
                    <div class="bg-white p-3 rounded-3xl shadow-sm border border-emerald-50">
                        <img src="${p.img}" class="h-24 w-full object-cover rounded-2xl mb-2">
                        <h4 class="text-[10px] font-bold truncate">${p.name}</h4>
                        <p class="text-emerald-700 font-black text-sm mb-3">${p.price} Pi</p>
                        <button onclick="addToCart(${p.id})" class="w-full bg-emerald-50 text-emerald-800 py-2 rounded-xl text-[10px] font-black uppercase">+ Cart</button>
                    </div>
                `;
            });
        }

        // Cart Logic
        function addToCart(id) {
            const p = products.find(x => x.id === id);
            cart.push(p);
            document.getElementById('cart-count').innerText = cart.length;
            alert("An sa " + p.name + " a kwando!");
        }

        function showCart() {
            const modal = document.getElementById('cart-modal');
            const list = document.getElementById('cart-items');
            list.innerHTML = '';
            let total = 0;
            cart.forEach((item, index) => {
                total += item.price;
                list.innerHTML += `<div class="flex justify-between text-sm"><span>${item.name}</span><b>${item.price} Pi</b></div>`;
            });
            document.getElementById('cart-total').innerText = total + " Pi";
            modal.classList.remove('hidden');
        }

        function hideCart() { document.getElementById('cart-modal').classList.add('hidden'); }

        // Admin Logic
        function enterAdmin() {
            let p = prompt("Password:");
            if(p === "Zuhafs9700") {
                document.getElementById('main-view').classList.add('hidden');
                document.getElementById('admin-view').classList.remove('hidden');
                renderAdminList();
            }
        }

        function addItem() {
            const name = document.getElementById('p-name').value;
            const price = parseFloat(document.getElementById('p-price').value);
            const img = document.getElementById('p-img').value || "https://via.placeholder.com/150";
            if(name && price) {
                products.push({ id: Date.now(), name, price, img });
                localStorage.setItem('products', JSON.stringify(products));
                renderApp(); renderAdminList();
                alert("An dora!");
            }
        }

        function deleteItem(id) {
            products = products.filter(p => p.id !== id);
            localStorage.setItem('products', JSON.stringify(products));
            renderApp(); renderAdminList();
        }

        function renderAdminList() {
            const list = document.getElementById('admin-items-list');
            list.innerHTML = '';
            products.forEach(p => {
                list.innerHTML += `
                    <div class="bg-gray-100 p-3 rounded-xl flex justify-between items-center text-xs">
                        <span>${p.name} (${p.price} Pi)</span>
                        <button onclick="deleteItem(${p.id})" class="text-red-500 font-bold">Goge</button>
                    </div>
                `;
            });
        }

        function showMain() {
            document.getElementById('main-view').classList.remove('hidden');
            document.getElementById('admin-view').classList.add('hidden');
        }

        window.onload = renderApp;
    </script>
</body>
</html>