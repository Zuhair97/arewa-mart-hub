<!DOCTYPE html>
<html lang="ha">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pi-mart Arewa | @Bashful97</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://sdk.minepi.com/pi-sdk.js"></script>
    <style>
        .glass { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(8px); }
        .arewa-gradient { background: linear-gradient(135deg, #1e4d2b 0%, #2d5a27 100%); }
    </style>
</head>
<body class="bg-gray-50 pb-24">

    <header class="sticky top-0 z-50 glass border-b p-4 flex justify-between items-center shadow-sm">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 arewa-gradient rounded-full flex items-center justify-center text-white font-bold shadow-md">
                PM
            </div>
            <div>
                <h1 class="text-lg font-extrabold text-green-900 leading-none">Pi-mart Arewa</h1>
                <p class="text-[10px] text-gray-500 font-medium">Dev: @Bashful97</p>
            </div>
        </div>
        
        <button id="lang-btn" onclick="toggleLanguage()" class="bg-gray-100 border px-3 py-1 rounded-lg text-xs font-bold hover:bg-gray-200 transition">
            English / Hausa
        </button>
    </header>

    <section class="p-4">
        <div class="arewa-gradient rounded-2xl p-6 text-white shadow-lg">
            <h2 id="welcome-txt" class="text-2xl font-bold">Barka da zuwa!</h2>
            <p id="sub-txt" class="text-green-100 text-sm">Shagon Pi mafi aminci a Arewa.</p>
        </div>
    </section>

    <main class="px-4 grid grid-cols-2 gap-4" id="products-container">
        </main>

    <nav class="fixed bottom-0 w-full bg-white border-t p-4 flex justify-around items-center glass">
        <button class="text-green-800 font-bold text-xs flex flex-col items-center"><span>ğŸ </span>Home</button>
        <button class="text-gray-400 text-xs flex flex-col items-center"><span>ğŸ›’</span>Cart</button>
        <button class="text-gray-400 text-xs flex flex-col items-center"><span>ğŸ‘¤</span>Profile</button>
    </nav>

    <script>
        let currentLang = 'ha'; // Default language

        const content = {
            ha: {
                welcome: "Barka da zuwa!",
                sub: "Shagon Pi mafi aminci a Arewa.",
                buy: "SAYA YANZU",
                loading: "Ana tantancewa...",
                alert: "An kammala sayen kaya!"
            },
            en: {
                welcome: "Welcome!",
                sub: "The most trusted Pi store in the North.",
                buy: "BUY NOW",
                loading: "Authenticating...",
                alert: "Purchase Successful!"
            }
        };

        const products = [
            { id: 1, name: "Smart Watch", price: 15, img: "âŒš" },
            { id: 2, name: "Pi Hoodie", price: 25, img: "ğŸ‘•" },
            { id: 3, name: "Power Bank", price: 10, img: "ğŸ”‹" },
            { id: 4, name: "Headphones", price: 12, img: "ğŸ§" }
        ];

        function toggleLanguage() {
            currentLang = currentLang === 'ha' ? 'en' : 'ha';
            renderApp();
        }

        function renderApp() {
            document.getElementById('welcome-txt').innerText = content[currentLang].welcome;
            document.getElementById('sub-txt').innerText = content[currentLang].sub;
            
            const container = document.getElementById('products-container');
            container.innerHTML = '';
            
            products.forEach(p => {
                container.innerHTML += `
                    <div class="bg-white p-3 rounded-2xl shadow-sm border border-gray-100">
                        <div class="h-32 bg-gray-50 rounded-xl flex items-center justify-center text-4xl mb-2">${p.img}</div>
                        <h3 class="font-bold text-gray-800 text-sm">${p.name}</h3>
                        <p class="text-green-700 font-black">${p.price} Ï€</p>
                        <button onclick="handlePurchase(${p.id})" class="mt-2 w-full arewa-gradient text-white py-2 rounded-lg text-[10px] font-bold">
                            ${content[currentLang].buy}
                        </button>
                    </div>
                `;
            });
        }

        // Pi SDK Integration
        const Pi = window.Pi;
        Pi.init({ version: "2.0" });

        async function authenticateUser() {
            try {
                const auth = await Pi.authenticate(['username', 'payments'], (p) => console.log(p));
                console.log("Logged in as: " + auth.user.username);
            } catch (e) {
                console.error(e);
            }
        }

        function handlePurchase(id) {
            // Logic na biyan kudi da muka rubuta a baya
            alert(content[currentLang].alert);
        }

        window.onload = () => {
            renderApp();
            authenticateUser();
        };
    </script>
</body>
</html>